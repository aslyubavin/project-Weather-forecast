"use strict";window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".header__logo"),t=document.querySelector(".search__wrapper"),r=document.querySelector(".search__title"),n=document.querySelector(".search__subtitle"),o=document.querySelector(".search__form"),a=document.querySelector(".search__input"),c=document.querySelector(".search__button"),i=document.querySelector(".search__photo"),l=document.querySelector(".weather"),d=document.querySelector(".forecast"),u=document.querySelector(".forecast-daily"),s=document.querySelector(".forecast-daily-day__button"),m=document.querySelector(".forecast-daily-hour__button");function y(e,t){e.classList.remove("op-0"),e.classList.add(t)}function h(e){e.addEventListener("click",(()=>{u.classList.toggle("forecast-daily_active"),s.classList.toggle("button_active"),m.classList.toggle("button_active")}))}y(r,"op-1"),setTimeout(y,400,n,"op-1"),setTimeout(y,800,a,"op-1"),setTimeout(y,1200,c,"op-1"),setTimeout(y,1200,i,"op-1_img"),e.addEventListener("click",(()=>{t.classList.remove("search__wrapper_active"),l.classList.add("disN"),u.classList.remove("forecast-daily_active"),s.classList.add("button_active"),m.classList.remove("button_active")})),h(m),h(s),function(){const e=document.querySelector(".forecast-weekly__button"),t=document.querySelector(".forecast-weekly__long");e.addEventListener("click",(()=>{t.classList.toggle("forecast-weekly__long_active")}))}(),o.addEventListener("submit",(e=>{var r;e.preventDefault(),r=a.value,fetch(`${g}weather?q=${r}&units=metric&appid=${_}`).then((e=>e.json())).then(p),o.reset(),t.classList.add("search__wrapper_active"),l.classList.remove("disN")}));const _="c04385b4f6f09f048e333ea817afc1ca",g="https://api.openweathermap.org/data/2.5/";function f(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function p(e){let t=document.querySelector(".weather__main-city"),r=document.querySelector(".weather__main-date"),n=document.querySelector(".weather__main-temp"),o=document.querySelector(".weather__main-icon"),a=document.querySelector(".weather__main-descr"),c=document.querySelector(".weather__main-feel"),i=document.querySelector('[data-article="minmax"]'),l=document.querySelector('[data-article="humidity"]'),u=document.querySelector('[data-article="pressure"]'),s=document.querySelector('[data-article="wind"]');const m=["January","February","March","April","May","June","July","August","September","October","November","December"];let y=new Date(1e3*e.dt);var h;400==e.cod||404==e.cod?(t.innerText="City not found",r.innerText="Enter the correct city",n.innerHTML="--&deg;",o.src="img/error-icon.svg",a.innerText="",c.innerHTML="",i.innerHTML="--",l.innerText="--",u.innerText="--",s.innerText="--",d.style.opacity="0",d.style.visibility="hidden"):(d.style.opacity="1",d.style.visibility="visible",t.innerText=e.name,r.innerText=`${m[y.getMonth()]} ${y.getDate()} ${y.getFullYear()}`,n.innerHTML=`${Math.round(+e.main.temp)}&deg;`,o.src=`img/${e.weather[0].icon}-icon.svg`,a.innerText=f(e.weather[0].description),c.innerHTML=`Feels like ${Math.round(e.main.feels_like)}&deg;`,i.innerHTML=`${Math.round(+e.main.temp_min)}&deg; / ${Math.round(+e.main.temp_max)}&deg;`,l.innerText=`${e.main.humidity} %`,u.innerText=`${e.main.pressure} mb`,s.innerText=`${Math.round(e.wind.speed)} m/s`,h=e.coord,fetch(`${g}onecall?lat=${h.lat}&lon=${h.lon}&units=metric&exclude=minutely&appid=${_}`).then((e=>e.json())).then(S))}function S(e){console.log(e),function(){let t=document.querySelector('[data-temp="morning"]'),r=document.querySelector('[data-temp="afternoon"]'),n=document.querySelector('[data-temp="evening"]'),o=document.querySelector('[data-temp="night"]'),a=document.querySelector('[data-feel="morning"]'),c=document.querySelector('[data-feel="afternoon"]'),i=document.querySelector('[data-feel="evening"]'),l=document.querySelector('[data-feel="night"]');t.innerHTML=`${Math.round(e.daily[0].temp.morn)}&deg;`,r.innerHTML=`${Math.round(e.daily[0].temp.day)}&deg;`,n.innerHTML=`${Math.round(e.daily[0].temp.eve)}&deg;`,o.innerHTML=`${Math.round(e.daily[0].temp.night)}&deg;`,a.innerHTML=`${Math.round(e.daily[0].feels_like.morn)}&deg;`,c.innerHTML=`${Math.round(e.daily[0].feels_like.day)}&deg;`,i.innerHTML=`${Math.round(e.daily[0].feels_like.eve)}&deg;`,l.innerHTML=`${Math.round(e.daily[0].feels_like.night)}&deg;`}(),function(){let t=document.querySelectorAll(".forecast-daily-hour__time"),r=document.querySelectorAll(".forecast-daily-hour__temp"),n=document.querySelectorAll(".forecast-daily-hour__descr");t.forEach(((t,r)=>{var n;t.innerText=`${n=e.hourly[r].dt,new Date(1e3*n).getHours()}:00`})),r.forEach(((t,r)=>{t.innerHTML=`${Math.round(e.hourly[r].temp)}&deg;`})),n.forEach(((t,r)=>{t.innerText=f(e.hourly[r].weather[0].main)}))}(),function(){let t=document.querySelectorAll(".forecast-weekly__date"),r=document.querySelectorAll(".forecast-weekly__temp-day"),n=document.querySelectorAll(".forecast-weekly__temp-night"),o=document.querySelectorAll(".forecast-weekly__icon");const a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];t.forEach(((t,r)=>{let n=new Date(1e3*e.daily[r].dt);t.innerText=`${a[n.getDay()]} ${n.getDate()}`})),r.forEach(((t,r)=>{t.innerHTML=`${Math.round(e.daily[r].temp.day)}&deg;`})),n.forEach(((t,r)=>{t.innerHTML=`${Math.round(e.daily[r].temp.night)}&deg;`})),o.forEach(((t,r)=>{t.src=`img/${e.daily[r].weather[0].icon}-icon.svg`}))}()}}));